# 操作系统

操作系统是一个程序，只不过它比较特殊，本质上它的代码文件也是放在计算机存储器上的。操作系统的作用是承担普通程序和计算机硬件交互的媒介。因为操作系统是中间媒介，因此操作系统在工作中会在两种状态之间切换，分别是用户态和内核态。

- 用户态指的是操作系统和上层应用软件打交道，接收上层应用程序发出的调用接口的任务。

- 内核态指的是操作系统和硬件打交道，执行内核代码。

计算机发展历史很有意思，从繁琐低效慢慢发展到现在的简便高效，中间经历了很多事情。其中一个技术非常重要，那就是**多道技术**，它是现代操作系统的核心。有了它可以实现计算机空间上的复用和时间上的复用。

- 空间上的复用：指的是多个程序能够同时读入内存里，特点是多个程序所占用的内存空间必须是隔离的。

- 时间上的复用：指的是复用cpu的时间，cpu在多个内存中的程序之间快速的切换，实现并发的效果。





## 安装操作系统的流程

在计算机上安装操作系统需要借助计算机硬件自带的BIOS程序(Basic input and output system)。

1. 下载待安装操作系统的iso镜像包，存入U盘、硬盘、光盘等中，得到一个启动盘；
2. 把启动盘插入计算机；
3. 启动计算机，计算机内置的bios会率先启动，根据cmos上配置的bios数据去加载操作系统镜像文件
4. bios会将启动盘里面的操作系统读入内存，控制cpu执行内存中的代码，运行操作系统程序；
5. 把启动盘中的操作系统拷贝到计算机本地硬盘上。



## 启动操作系统的流程

操作系统的启动流程很清晰：通电、启动bios、引导启动操作系统。

1. 电脑通电；
2. 执行bios程序，控制计算机硬件的运行；
3. bios程序到cmos上找到自己的配置信息，从中找到一个启动盘（光盘，U盘，硬盘等）;
4. 从启动盘中读取第一个扇区的数据（512字节），找到引导程序 bootloader；
5. bootloader启动后，负责吧操作系统的代码加载到内存，然后运行起来；
6. 操作系统运行起来后，bios就退居后台，最一些硬件及其驱动检测的事情。





## 安装操作操作系统

在Mac上安装操作系统，需要做二个准备工作。1、下载操作系统镜像包。2、安装 VMware Fusion，它用来帮我们在宿主机上安装虚拟机，这个软件可以从[VMware官网](https://www.vmware.com/)免费下载。